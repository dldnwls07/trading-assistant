# Future Roadmap: Trading Assistant (Chrome Extension Transformation)

## 1. Overview
Transform the current standalone Python application into a **Chrome Extension** powered by a local Python Analyze Server. This architecture combines the heavy-duty data analysis capabilities of Python (pandas, scikit-learn, Hugging Face) with the user-friendly, non-intrusive experience of a browser extension.

## 2. Competitive Analysis & Features
Key features identified from top trading assistants (e.g., TrendSpider, TradingView, ProScreener):

| Feature | Competitor approach | Our Planned Approach |
| :--- | :--- | :--- |
| **Execution** | Browser Extension / Web SaaS | **Hybrid**: Chrome Extension (Frontend) + Local Python Server (Backend) |
| **Analysis** | Cloud-based (Paid API) | **Local AI**: Free & Private (Phi-3, FinBERT) |
| **Detection** | Server-side scanning | **On-Demand**: Analyze text via Context Menu / Drag & Drop |
| **UI** | Sidebar or Full Dashboard | **Floating Overlay & Popup** (Minimalist) |

## 3. Architecture Design

### A. Backend (Python Server)
*   **Framework**: FastAPI (High performance, async support).
*   **Role**:
    *   Serve as a local API endpoint (`http://localhost:8000`).
    *   Handle heavy lifting: `yfinance` data fetching, `pandas` pattern detection, `Hugging Face` inference.
    *   Database management (SQLite/SQLAlchemy).
*   **Endpoints**:
    *   `GET /analyze/{ticker}`: Returns JSON report with score, signal, and pattern details.
    *   `POST /search`: Ticker search logic.

### B. Frontend (Chrome Extension)
*   **Components**:
    *   **Background Script**: Manages context menu ("Analyze 'AAPL'").
    *   **Content Script**: Detects tickers on web pages (e.g., News sites, Reddit) and adds hover tooltips.
    *   **Popup UI**: Displays the full report, charts (charts generated by backend and served as static files), and settings.
*   **Interaction**:
    1.  User sees a ticker (e.g., "TSLA") on a news site.
    2.  User highlights text -> Right Click -> "Analyze with Trading Assistant".
    3.  Extension sends request to `localhost:8000/analyze/TSLA`.
    4.  Extension shows a sleek notification or sidebar with the result.

## 4. Implementation Steps

### Phase 1: Server Migration (Python)
1.  **Refactor**: Convert `overlay.py` logic into a `FastAPI` application.
2.  **API Design**: Create standard JSON response format for analysis results.
3.  **Testing**: Verify API endpoints using `curl` or Postman.

### Phase 2: Chrome Extension Development (JS/HTML/CSS)
1.  **Manifest V3**: Set up `manifest.json`.
2.  **Context Menu**: Implement right-click integration.
3.  **Popup UI**: Build a modern interface (React or Vanilla JS) to display the "Report Card".
4.  **Connect**: Fetch data from `localhost:8000`.

### Phase 3: Advanced Integration
1.  **Hover Cards**: Automatically underline tickers on webpages and show mini-charts on hover.
2.  **Chart Injection**: Inject Python-generated charts (matplotlib/mplfinance) into the popup.

## 5. User Benefits
*   **No Context Switching**: Analyze without leaving the browser.
*   **Privacy**: Data stays local; API keys (Hugging Face) remain on the user's machine.
*   **Cost**: Free (uses local compute instead of expensive cloud APIs).
