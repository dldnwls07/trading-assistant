# Trading Assistant 프로젝트 계획 및 체크리스트 ✅

## 프로젝트 개요
- 목적: 차트, 시세, 재무제표, 실적, 일정 등 주식투자에 필요한 데이터를 수집·분석하고, 알림·백테스트·(선택)자동매매 기능을 제공하는 에이전트/웹앱 개발
- 대상 시장: **미국 주식(우선, NASDAQ/NYSE 중심)** — 한국 주식은 데이터 확보 후 순차적으로 추가
- 플랫폼(최종 목표): **AI Copilot (Universal Desktop Overlay)** — TradingView, 토스증권, HTS 등 **어떤 프로그램 위에서도 동작**하는 투명 오버레이 위젯
- 1차 목표(우선순위): **로컬에서 동작하는 CLI 프로토타입**으로 핵심 기능(시세 수집, 재무 파싱, 스크리너, 기본 알림)을 검증
- 모네타이즈 전략(장기): Chrome 확장 또는 유료 플러그인 형태로 출시하여 프리미엄 기능(실시간 알림, 고급 스크리너, 백테스트 리포트 등)을 유료화
- 시장 특성: 미국 시장의 시차(EST), 배당/스플릿/옵션 이벤트 관리, 마켓 데이터 유료화 가능성 등을 고려

---

## 경쟁 우위 및 차별점 (Why not TradingView?) 💡
- **TradingView**: 차트와 기술적 분석에 최적화된 도구. 하지만 "뉴스 해석", "복잡한 재무 필터링", "AI 기반 매매 근거 제시"는 약함.
- **This Project**: 사용자가 **어떤 증권사 앱(토스, 키움 등)을 쓰든 상관없이**, 화면 위에 떠서 **"AI 세컨드 오피니언"**을 제공. (예: 토스증권 화면의 'AAPL'을 인식하거나 클립보드로 복사하면 즉시 분석 오버레이 표시)

---

## 프로젝트 핵심 원칙 (Core Principles) ⚖️
1. **분석 보조 집중 (Advisory Only)**: 이 프로그램은 매매를 직접 수행하지 않으며, 판단을 위한 **데이터와 분석**만을 제공합니다.
2. **데이터 투명성 (Data Transparency)**: 무료 데이터(yfinance)의 **15분 지연** 사실을 사용자에게 항상 인지시킵니다.
3. **설명 가능한 분석 (Explainable Analysis)**: 특정 종목을 포착하거나 알림을 보낼 때, **"왜"** 그런 결과가 나왔는지(예: 골든크로스 발생, 거래량 500% 급증) 근거를 명시합니다.
4. **보수적 검증 (Conservative Validation)**: 데이터가 불확실하거나 누락된 경우, 섣불리 예측하지 않고 "데이터 부족"으로 처리하여 오판을 방지합니다.

---

## 주요 목표 (MVP) 🎯
- [ ] 0. CLI 프로토타입 (시세 수집, 기본 스크리너, 간단한 알림, 명령어 기반 인터페이스)
- [ ] 1. 시세(OHLCV) 수집 및 저장 API
- [ ] 2. 기본 차트(Candlestick + MA + Volume) 표시 기능
- [ ] 3. 재무제표(손익계산서, 재무상태표, 현금흐름) 자동 수집 및 파싱
- [ ] 4. 종목 스크리너(재무·기술 지표 기반 필터)
- [ ] 5. 알림(가격 임계치, 공시, 실적일)
- [ ] 6. 백테스터(전략 시뮬레이션)
- [ ] 7. 데스크탑 오버레이 (화면 인식/클립보드 연동 AI 분석 위젯)
- [ ] 8. (선택) 브로커 연동 자동매매
- [ ] 9. AI 기반 분석 및 리포트 (신규)

---

## 단계별 작업 항목 (Sprint 단위) 🛠️

### Sprint 0 — 준비 (1주)
- [x] 요구사항 확정 (시장, 대상 기능, 실거래 여부, 예산)
- [x] 데이터 소스 확정 (과거/일봉: yfinance, 실시간/분봉: Alpaca API)
- [x] 기술 스택 확정 (CLI 프로토타입: Python, Click, Pandas)
- [x] 저장소 초기화 및 이슈/보드 생성
- [ ] 시장 시간·배당·스플릿·환율 처리 방안 설계

### Sprint 1 — CLI 프로토타입 (1주)
- [x] CLI 명세 정의 (명령어, 옵션, 출력 포맷)
- [x] OHLCV 수집 및 로컬 저장(간단한 DB 또는 파일)
- [x] 기본 재무(요약) 수집 및 표시 명령 (summary, financials, analyze 추가됨)
- [x] 스크리너(간단한 필터) 구현
- [x] 실시간 시세 조회 (quote 명령어 - Alpaca 연동)
- [x] 계좌 정보 조회 (account 명령어 - Alpaca Trading API)
- [x] 매수 주문 기능 (buy 명령어 - Alpaca Paper Trading)
- [ ] 알림(파일/콘솔) 기본 구현
- [ ] 테스트 스크립트 및 사용 문서(README에 사용법 추가)

### Sprint 2 — 시세 수집 & 기본 차트 (2주)
- [ ] OHLCV 수집 스크립트 개선
- [ ] Alpaca 분봉(Intraday) 데이터 수집 기능 구현
- [ ] DB 모델/마이그레이션
- [ ] 기본 차트 페이지(React + Plotly) 프로토타입

### Sprint 2 — 재무제표 수집 & 스크리너 (2주)
- [ ] DART/API 파서 구현
- [ ] 스크리너 API 및 간단 UI

### Sprint 3 — 유니버설 데스크탑 오버레이 (2주) (수정)
- [ ] Python GUI(PyQt/Tkinter) 기반 'Always-on-Top' 미니 위젯 개발
- [ ] **유니버설 인식 구현**: 클립보드 모니터링(티커 복사 시 자동 분석) 또는 화면 캡처 OCR
- [ ] 토스증권/TradingView 등 다양한 화면 위에서 정보 표시 테스트

### Sprint 4 — 백테스터 & 전략 (2주)
- [ ] 백테스트 프레임워크 통합 (backtrader/vectorbt)
- [x] Alpaca Paper Trading(모의투자) 연동 및 주문 테스트 (기본 buy 구현됨)

### Sprint 5 — AI 분석 및 서비스 고도화 (2주) (신규)
- [ ] 뉴스/공시 감성 분석 (NLP/LLM 연동)
- [ ] 장 마감 후 일일 리포트 자동 생성 (PDF/Email)
- [ ] 사용자 맞춤형 포트폴리오 제안 로직
- [ ] 서비스 배포 준비 (Docker/Cloud)

---

## 3. 프로젝트 구조 및 파일 구성 (Architecture) 🏗️
**Rule 3(모듈화)** 및 **Rule 2(상대경로)** 에 의거하여 아래 구조를 준수합니다.

```text
Trading_assist/
├── config/               # 설정 파일 (settings.yaml)
├── src/                  # 소스 코드
│   ├── main.py           # CLI 진입점 (Entry Point)
│   ├── data/             # 데이터 수집 및 저장 (Collector)
│   ├── agents/           # 분석 및 스크리닝 로직 (Logic)
│   ├── ui/               # CLI 명령어 및 출력 포맷 (Interface)
│   └── utils/            # 로거, 공통 유틸리티
├── data/                 # 로컬 데이터 저장소 (Git 제외)
├── logs/                 # 실행 로그 (Git 제외)
└── tests/                # 유닛 테스트
```

---


## 체크/릴리즈 규칙
- 각 이슈를 완료하면 해당 항목에 체크 후 커밋/PR을 생성
- 기능 완성 시 간단한 테스트 케이스와 사용 설명 추가
- **개발 원칙(필수)**: 항상 `DEVELOPMENT_GUIDELINES.md`를 확인하고, **코드 변경 전** 변경 방안을 사용자(또는 리뷰어)에게 제시해 승인을 받습니다(Rule 1). 변경 내용은 PR 설명에 명확히 기재하세요.

---

## 책임 및 연락처
- PM: (이름)
- 개발: (이름)
- 데이터/연구: (이름)

---

## 리스크 및 법적 고려사항 ⚠️
- 자동매매 연동 시 증권사 API 약관 및 규정 확인
- 데이터 제공사의 이용약관 및 쿼터/요금 정책 확인

---

## 노트 및 커스터마이즈
- 파일을 업데이트하거나 항목을 추가/제거하길 원하면 알려주세요.
- (옵션) GitHub Projects/GitHub Issues 또는 Notion으로 이슈 추적을 연결 권장

---

## 규칙 업데이트 공지 🔔
- `DEVELOPMENT_GUIDELINES.md`가 업데이트되었습니다: **변경 전 승인 강화, 상대 경로 의무화, 연쇄 오류 검사(상호 의존성 전수 검사)** 등이 추가되었습니다.
- 모든 팀원은 변경사항을 확인하고, 향후 PR/커밋 시 새로운 규칙을 준수해 주세요.
- 변경사항 적용일: 2026-01-29
- 확인 후 '검토완료' 코멘트를 남겨주시거나 질문이 있으면 알려주세요.

---

## 작업 스케줄 및 진행 방식 ⏱️
- **일일 루틴**: 매일 **1시간**씩 개발/자료정리/테스트 진행 (권장: 1시간 고정, 꾸준함 우선).
- **주간 목표**: 매주 산출물 1개(예: 데이터 수집 스크립트, 차트 프로토타입) 완성
- **커밋 규칙**: 작은 단위로 자주 커밋 (하루 최소 1 commit 권장)
- **장기 프로젝트 관리**: 분기(3개월)마다 목표 재평가 및 우선순위 조정

## GitHub 업로드 및 민감정보 관리 🔐
- **저장소 초기화**: 로컬에서 `git init` → 원격(GitHub) 리포지토리 생성 → 최초 푸시
- **중요 파일 자동 제외**: 루트에 `.gitignore` 추가 (아래에 예시를 생성함). **.env, API 키, 개인 자격증명, 로컬 DB 파일은 절대 커밋하지 마세요.**
- **환경 변수 템플릿**: 실제 값은 `.env`에 두고 `.env.example`로 필요한 키만 명시
- **사전 스캔(권장)**: `pre-commit` + `detect-secrets` 또는 `git-secrets` 설치로 커밋 전 비밀값 스캔 적용
- **GitHub 보안**: GitHub 리포지토리의 `Settings → Secrets`를 사용해 액션/배포 키를 안전하게 보관
- **업로드 전 체크리스트**:
  - `git status` 확인
  - `git diff --staged`로 스테이지된 변경 확인
  - 민감 정보가 포함된 파일이 있으면 커밋 취소(`git reset`) 후 제외

### 추가 체크리스트 항목
- [ ] 저장소 초기화 및 원격 연결
- [ ] `.gitignore`와 `.env.example` 추가
- [x] `pre-commit` + `detect-secrets` 설정 (설정 파일 및 기본 baseline 생성)

**설치된/생성된 파일**:
- `.pre-commit-config.yaml` ✅
- `.secrets.baseline` (placeholder) ✅
- `scripts/init-secrets.sh`, `scripts/init-secrets.ps1` ✅
- `.github/workflows/secret-scan.yml` ✅
- `SECURITY.md`, `README.md` (설명 추가) ✅

---

## 다음 단계
1. 우선순위(시작 Sprint) 선택해 주세요.
2. Sprint 0 작업을 진행하여 리포지토리와 이슈 보드를 생성하겠습니다.

*파일 위치: `PROJECT_PLAN.md`*
